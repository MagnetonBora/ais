\documentclass[12pt, openany, twoside]{book} % Computer Modern font calls
%\usepackage[paper=a5paper, twoside, includehead]{geometry}
\usepackage[paper=a5paper, twoside]{geometry}

\usepackage[T1]{fontenc}
%\usepackage{literat}
%\usepackage[pdftex,unicode]{hyperref}
\usepackage[dvips]{graphicx}
\usepackage{longtable}
\usepackage[utf8]{inputenc}
\usepackage[english,russian]{babel}
\usepackage{fancyhdr}
%\usepackage{pstricks}
\usepackage{pst-all}
\usepackage{pst-poly}
%\def\defgeom{\geometry{paper=a5paper, left=1.4142cm, top=1.4142cm, bottom=1.4142cm,
%centering, right=1.4142cm, bindingoffset=0mm, }}
\def\defgeom{\geometry{paper=a5paper, left=1.4142cm, top=1.6142cm, bottom=1.8142cm,
centering, right=1.4142cm, bindingoffset=1mm, }}
%\tolerance=10000

\newenvironment{PP}{%
    \begin{quote}\tt}{%
    \end{quote}}
\def\rem#1{}


 %\renewcommand{\publishername}{Иркутский государственный технический университет}
 %\renewcommand{\locationname}{Иркутск}
\def\AR{{\em Прим.~автора~пособия}}
 \def\baselinestretch{1}

\newtheorem{example}{Пример}[chapter]
\newenvironment{mygroup}{}{}

 \setcounter{secnumdepth}{3}
 \setcounter{tocdepth}{3}

\defgeom{}
\makeatletter
\def\@makechapterhead#1{%
  %\vspace*{10\p@}%
  {\parindent \z@ \raggedright \normalfont
    \ifnum \c@secnumdepth >\m@ne
      \if@mainmatter
        \large\bfseries \@chapapp\space \thechapter
        \par\nobreak
        \vskip 5\p@
      \fi
    \fi
    \interlinepenalty\@M
    \Large \bfseries #1\par\nobreak
    \vskip 7\p@
  }}
\def\@makeschapterhead#1{%
  %\vspace*{50\p@}%
  {\parindent \z@ \raggedright
    \normalfont
    \interlinepenalty\@M
    \Large \bfseries  #1\par\nobreak
    \vskip 7\p@
  }}
\makeatother
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\def\chaptername{Тема}
\def\thechapter{\Roman{chapter}}
\def\thefigure{\arabic{section}.\arabic{figure}}
\def\thetable{\arabic{section}.\arabic{table}}
%\fancypagestyle{plain}{%
\fancyhf{} % clear all header and footer fields
%\fancyfoot[C]{\bfseries \thepage} % except the center
\fancyhead[RE]{\slshape \leftmark}
\fancyhead[LO]{\slshape \rightmark}
\fancyhead[RO,LE]{\slshape \thepage}
\renewcommand{\headrulewidth}{1pt}
\renewcommand{\footrulewidth}{0pt}%}
\pagestyle{fancy}
%\lhead{\thepage} \chead{}
%\rhead{Предисловие} \lfoot{} \cfoot{} \rfoot{}
%\renewcommand{\headrulewidth}{1pt}
\begin{titlepage}
\thispagestyle{empty}
\begin{center}
Министерство науки и образования\\
Российской федерации\\
{\sc Иркутский государственный технический университет}\\[0.5em]

{Сибирское отделение Российской академии наук}\\
{\sc Институт динамики систем и теории управления}\\
\vfill
 \hbox to \linewidth{\hfill Е.А.~Черкашин}
 \vfill
{\large\bf Методы аналитической обработки информации}\\
{Конспект лекций}
\vfill
\vfill
\vfill
 Издательство Иркутского государственного технического университета\\
 {\bf 2005}
\end{center}
\end{titlepage}

\newpage
\begin{mygroup}
\thispagestyle{empty}
\noindent УДК 681.3.06
\vfill\footnotesize
{Черкашин.~Е.А.} {\bf Методы аналитической обработки информации.}: Конспект лекций. ---
Иркутск: Изд-во. ИрГТУ. 2005. --- \pageref{pg:lastpage}~c.
\vfill
Предназначено слушателям курса
``Аналитическая обработка информации'', преподаваемого на третьем курсе
специальности МЭИ кафедры Автоматизированных систем, Кибернетического факультета,
Иркутского государственного технического университета.

Курс рассматривает последовательность этапов
анализа некоторого объекта исследования (природного, физического,
экономического) с целью выяснения его важнейших  характеристик (дополнительной
информации), позволяющих затем
принимать какие--либо решения.

Курс содержит задания по следующим темам лабораторного практикума: ``Поиск зависимостей между данными'',
``Кластерный анализ'' и ``Деревья решений''.

    Предназначен для студентов специальности
МЭИ (2202).
Изучение рассматриваемого материала будет полезным для студентов других специальностей, так или иначе связанных с практическими аспектами статистических методов исследования и математическим моделированием.

\vfill\vfill

\vfill
\hbox{}\hfill
\begin{minipage}{0.6\linewidth}
\begin{itemize}
\setlength{\itemsep}{0pt}
\setlength{\parsep}{0pt}
\item[\copyright{}] Иркутский государственный технический университет, 2005.\item[\copyright{}] Институт динамики систем и теории управления СО РАН, 2005.
\item[\copyright{}] Е.А.~Черкашин, 2005.
\end{itemize}
\end{minipage}
\end{mygroup}
\tableofcontents
\clearpage

\newpage
%\def\thesection{\Roman{section}}
\section*{Предисловие}
\addcontentsline{toc}{section}{Предисловие}
\thispagestyle{empty}

Предлагаемое учебное пособие разработано для студентов
 инженерной специальности МЭИ, однако, может быть использовано всеми
заинтересованными судентами (будущими IT--менеджерами),
желающими овладеть некоторыми практическими навыками применения методов
статистического анализа данных.
Пособие включает в себя рефе\-ра\-тив\-ную
подборку материала по курсу ``Аналитическая обработка информации'',
изложение собственного опыта автора, варианты лабораторных работ и методические
указания по их выполнению. Оно никоим образом не претендует на
полноту излагаемого материала, более того, это пособие отображает в большей
степени собственную точку зрения автора, которая может не совпадать с общепринятой.

Пособие необходимо воспринимать только как
путеводитель по теме, и учащиеся в
процессе обучения должны активно использовать литературу, на
которую в тексте указаны ссылки. Если в конце первого предложения
первого абзаца раздела стоит ссылка, например, ``\cite{AIDictionary}'', то
в основу этого раздела лег материал из указанного источника. Автор пособия корректировал
некоторые неточности\footnote{\ldots и вносил свои ;-)\ldots --- \AR.}, адаптировал текст и примеры к
нуждам преподаваемого курса и к свойствам используемого программного обеспечения.
Автор не видит ничего зазорного в том, что он активно и дословно
цитирует части источников, на которые он ссылается. Более того, в
цитируемом тексте, в виде сносок, автор позволяет себе высказывать
то или иное отношение к сказанному, при этом его собственные
замечания помечены курсивом --- \AR.

В тексте пособия использована следующая разметка:
\begin{description}
\item[Жирным шрифтом] выделяются имена существительные и глаголы, на которые,
по мнению автора, следует обратить внимание, это --- что--то вроде
дополнительного конспектирования текста конспекта лекций.
\item[\normalfont{\tt Шрифтом печатной машинки (Courier)}] приводятся
тексты программ, куски программ в основном тексте пособия, а также имена
идентификаторов, т.е. все, что имеет отношение к {\bf тексту программы}.
\item[\normalfont{\em Наклонным шрифтом (italic)}] выделяются
{\bf новые}, вводимые в тексте, термины,
порождаемые, например, в определениях, а также текст выделенных примеров.
\item[\normalfont С помощью ``кавычек''] выделяются
метафоры, термины\footnote{На более точный подбор этих терминов автор не рассчитывал
тратить много времени.}, новые знаки текстов программ, цитаты и т.д.
\item[\normalfont{\sf Рубленым шрифтом (sans serif) или {\sl наклонным (slated)}}]
вы\-де\-ля\-ю\-тся тексты, которые
просто надо как--то выделить на общем фоне.
\end{description}

Автор надеется, что данное пособие правильно отображает требования к курсу
``Аналитическая обработки информации'', которые в течение нескольких лет не удается найти,
и  доставит учащимся твердое чувство уверенности в знаниях по этому курсу.

Автор признателен своему начальнику, профессору, доктору технических наук
Бычкову Игорю Вячеславовичу за
предоставленную возможность изучить глубже этот раздел практической математики.
Автор выражает благодарность преподавателями факультета кибернетики, кафедры вычислительной техники Иркутского государственного технического университета, которые, в свое время,
``приложили руку'' к моему становлению как ученого.

Автор благодарит свою жену Татьяну Юрьевну Черкашину за помощь в подготовке
данного конспекта лекций.

\medskip
\noindent\hbox to \linewidth{\hfill\sf И.о.зав.лаб. ИДСТУ СО РАН, и.о.доцента кафедры ВТ
ИрГТУ,}
\noindent\hbox to \linewidth{\hfill\sf к.т.н. Е.А.Черкашин}

\vfill
\makeatletter
\noindent{\sf P.S.} Автора всегда можно найти по электронной почте. E-mail:
{\tt eugeneai@icc.ru}, в поле ``{\tt тема}'' прошу указывать ``Методичка--2005''.
\makeatother

\chapter{Цели и задачи аналитической обработки информации}
\chaptermark{Цели и задачи анализа информации, \ldots}

Анализ данных (формализованной и закодированной каким-нибудь способом информации) играет важную роль как в научном исследовании, так и в процессе принятия решения на производстве или в фирме . Он позволяет получать целый спектр дополнительной, первоначально скрытой,  информации об объекте исследования, в качестве которого, как правило, выступает финансовое состояние предприятия, производственный или природный процесс и т.п. К концептуальным задачам анализа данных, кроме прочих, относятся следующие важнейшие разновидности задач:
\begin{itemize}
\item Поиск закономерностей между наборами данных.
\item Обобщение данных: выявление каких-либо общих признаков между наборами данных, группировка и классификация объектов.
\item Фильтрация нерелевантной информации.
\item Восстановление скрытых данных, например, фильтрация изображений.
\item Идентификация моделей.
\item Поиск начальных состояний динамических процессов.
\end{itemize}

``антиинтуитивные решения''

Статистические исследования --– один из широко используемых методов анализа данных, на котором, как правило, базируются все остальные виды анализа.
\section{Математическое моделирование}

Существует мнение, что математически строгое исследование, с привлечением математического моделирования, строится по следующей общей схеме:
\begin{enumerate}
\item Изучение процессов, происходящих в объекте исследований.
\item Формализация законов и зависимостей, выявленных в исследуемом объекте.
\item Формализация метода оценки результатов моделирования через систему критериев оценки моделируемых феноменов и процессов.
\item Идентификация модели.
\item Выбор или разработка численного метода для отображения модели.
\item Выбор или разработка алгоритма и программы для расчета числовых значений оценочных критериев.
\item Изучение и задание исходных допустимых характеристик исследуемого объекта и сценариев его развития.
\item Поиск или вычисление начальных условий для каждого из сценариев.
\item Проведение компьютерных расчетов модели развития объекта для конкретного сценария; вычисление значений оценочных критериев.
\item Оценка сценариев через сравнение значений их критериев и, возможно, проведение многокритериальной оптимизации.
\item Интерпретация числовых значений критериев для выделенного набора сценариев.
\end{enumerate}

Рассмотрим каждый этап в отдельности.

\paragraph{Изучение объекта исследований} На этом этапе выполняется исследовательская работа, целью которой ставится выявляение общих закономерностей в феноменах и процессах, происходящих в объекте исследования; выявление точек интереса; анализ исходной информации и степень её релевантности. Объект исследования может представлять собой что угодно, и быть прадставленным в какой угодно форме. Информация об объекте может быть формализована, представлена в виде таблиц наблюдений, или выражена в виде несистематизированных знаний эксперта. Пройдем всю приведенную выше схему на примере задачи моделирования искусственного спутника Земли (ИСЗ). Более подробно о всех этапах, связанных с астрономическими феноменами, можно ознакомится в \cite{avanta}.

Известно, что в основе модели полета ИСЗ лежит закон всемирного тяготения, открытый Исааком Ньютоном.
\begin{equation}
F = G\frac{mM}{r^2}, \label{newton}
\end{equation}
где $F$ --- гравитационная сила тяжести, $r$ --- расстояние между центрами масс взаимодействующих тел,
$m$ и $M$ --- гравитационные массы ИСЗ и планеты Земля, $G$ --- гравитационная постоянная.

Как было получено это открытие? Исходной информацией послужили таблицы астронома Тихо Браге, который, в частности, составил точную картину движения Марса. Давайте обратим внимание на тот факт, что данные этих таблиц, в свою очередь, опираются на представление Солнечной системы как системы гелиоцентрической, таким образом, Тихо Браге в какой-то мере использовал модель Солнечной системы, определенную Галиллеем и Коперником.

Итак, в руках Ньютона оказались достаточно точные таблицы, отображающие координаты положения Марса на плоскости, из которых было видно, что Солнце не находится в центре ``круга'', траектории, Марса. Необходимо отметить, что этот феномен ранее был изучен Кеплером, сфомулировавшим законы движения планет в несколько иной форме \cite{avanta}. Результаты анализа этих таблиц и дали формулировку закона всемирного тяготения, из которого законы Кеплера уже выводятся как следствие.

\paragraph{Формализация законов и зависимостей} В результате предыдущего шага исследователь получает некоторое понимание законов, происходящих в исследуемом объекте. Теперь эти законы надо записать в формальном виде. Примерами такой записи являются переместительный и сочетательный законы сложения, и, в нашем примере, формула (\ref{newton}). На этом этапе исследователя интересует объект как представитель некоторого класса объектов, в котором выявленные закономерности проявляются качественно одинаково, т.е. Марс - это планета, а необходимо получить закон всемирного тяготения для любой планеты. В этом случае, как правило, получаемые формулы проверяют на других объектах этого же класса. Мы преобразуем (\ref{newton}) в следующий скалярный вид.
\begin{equation}
 \frac{F}{m} = a = \ddot r = G\frac{M}{r^2}, \label{scalarmodel}
\end{equation}
где $a$ --- ускорение ИСЗ. Запишем уравнение (\ref{scalarmodel}) в вектороном виде:
\begin{equation}
 	\ddot \textbf{r} = - G\frac{M}{r^3}\textbf{r}, \quad r=|\textbf{r}|. \label{vectormodel}
\end{equation}
Здесь вектор $-\textbf{r}/r$ --- единичный вектор направления центра земли от спутника, сонаправленный ускорению свободного падения $\ddot \textbf{r}$, и обратный радиус--вектору $\textbf{r}$. Рассмотрим двумерную систему координат с центром в центре земли, плоскость которой совпадает с плоскостью орбиты\footnote{В гравитационной системе двух материальных точек орбиты плоские и находятся в одной плоскости. И. Ньютон доказал, что тела, имеющие форму концентрических сфер ненулевой толщины поверхностей, обладают по отношению к гравитационным взаимодействиям всеми свойствами материальной точки, за исключением, конечно, ненулевого радиуса.}. Теперь можно спроектировать наши вектора на оси координат и переписать (\ref{vectormodel}) в следующем виде:
\begin{equation}
 	a_x = - G\frac{M}{r^3}x, \quad a_y = - G\frac{M}{r^3}y, \quad r=\sqrt{(x^2+y^2)}. \label{projectedmodel}
\end{equation}

\paragraph{Формализация метода оценки результатов моделирования} На этом этапе исследователь обращается к задачам исследования. Теперь надо понять, как надо оценивать результаты, получаемые в процессе моделирования и прогнозных расчетов. Нас может интересовать, как будет меняться форма орбиты в зависимости от начальных условий. Форма орбиты характеризуется периодом обращения ИСЗ, эксцентриситетом орбиты и т.п. Задаваемые критерии могут выражаться в виде одного числа или набора чисел; важно, чтобы значения каждого критерия были сравнимы, т.е. можно было сказать какое значение этого критерия ``лучше'', а какое ``хуже''.

\paragraph{Идентификация модели} На этом этапе происходит поиск значений различных констант, введенных ранее в модель. Константы, как правило, разделяются на два типа: константы, характеризующие класс объектов, и константы, характеризующие конкретный объект этого класса. В физике константы первого типа называются фундаментальными: константа Планка, гравитационная постоянная $G$ в (\cite{newton}), число Авогадро. В нашей задаче моделирования полета ИСЗ, помимо константы $G$, необходимо найти еще и значение гравитационной массы Земли $M$.

Постоянным уточнением точного значения гравитационной постоянной заимаются физические лаборатории. Мы можем взять значение из справочника $G=....$. Массу земли также берем из справочника. В реальной жизни, как правило, идентификация явлется фундаментальной проблемой, т.к. решается в условиях нехватки информации. Для природных систем, например, проводятся полевые исследования, лабораторные эксперименты.

\paragraph{Выбор численного метода} Численный метод качественно определяет степень точности получаемых прогнозов, а также сложность вычислений, а, следовательно, и время счета. В нашем случае с целью демонстрации достаточно грубой оценки параметров траектории. Применим простейший метод интегрирования --- метод Эйлера.
\begin{equation}
dv_x=a_xdt, \quad dv_y=a_ydt, \quad dx=v_xdt, \quad dy=v_ydt,
\nonumber
\end{equation}
Здесь $v_x, v_y, x$ и $y$ --- функции. Аппроксимируем эти тождества прямолинейными отрезками
\begin{equation}
\Delta v_x=a_x\Delta t, \quad \Delta v_y=a_y \Delta t, \quad \Delta x=v_x\Delta t, \quad \Delta y=v_y\Delta t.
\end{equation}
 Теперь возмем явную схему Эйлера следующего вида:
\begin{eqnarray}
{v_x}_{i+1} = {a_x}_i\Delta t, & \quad & {v_y}_{i+1} = {a_y}_i\Delta t, \\
{x}_{i+1} = {v_x}_{i+1}\Delta t, & \quad & {y}_{i+1} = {v_y}_{i+1}\Delta t.
\end{eqnarray}

\paragraph{Алгоритм и программа для расчета} На этом этапе выбирается алгоритм и создается компьютерная программа, рассчитывающие конкретный сценарий и вычисляющие значения критериев. Важной задачей этого этапа является анализ ошибок, например, вносимых неточностью представления чисел с плавающей запятой, значительными различиями в порядках чисел в операциях деления и разности.

На рис. \ref{pic: isz} изображена блок-схема нашего алгоритма. В приложении \ref{appendix_2} приводится программа на языке Python (http://www.python.org), реализующая этот алгоритм.

\chapter*{Страница для заметок}

\chapter*{Заключение}
\addcontentsline{toc}{chapter}{Заключение}


В контексте этого курса рассмотрен вопрос поддержания идентификации моделей статистическими и другими методами анализа данных.


%\listoffigures
%\addcontentsline{toc}{section}{Список иллюстраций}
%\listoftables
%\addcontentsline{toc}{section}{Список таблиц}
\begin{thebibliography}{99}
\addcontentsline{toc}{chapter}{Список литературы}
\bibitem{math_slov:88} \emph{Математический энциклопедический словарь.} ---
М.: Изд-во Сов. энциклопедия, 1988.
\end{thebibliography}
\chapter*{Приложение I. Интегрированная среда R для статистических анализов}
\addcontentsline{toc}{chapter}{Приложение I}

В качестве программной системы для выполнения лабораторных работ студентам предлагается истользовать систему для проведения статистических анализов – R. Систему можно свободно скачать с интернет-сайта http://r-project.org.

\section{Базовые принципы функционирования среды}

R – это оболочка со встроенным языком программирования для статистических расчетов и построения разнообразных графиков и диаграмм. R является свободным (http://www.opensource.org) аналогом системы S, созданной в лаборатории Bell в 1988 году. Она включает в себя средства обработки данных различного типа, таких как скаляр, вектор, матрица, а также, необходимые средства визуализации. R является механизмом для разработки новых методов интерактивного анализа данных, и непрерывно поддерживается командой разработчиков. R является свободной реализацией стандарта программирования аналитических процедур «S», разработанного в лабораториях Bell Риком Бекером, Джоном Чамберсом и Алланом Вилксом. R включает в себя большую коллекцию пакетов и расширений, реализующих современные методы аналитической обработки информации. Например, в стандартную поставку уже включены методики реализации линейной и нелинейной регрессий, статистических тестов, анализа временн\'{ы}х рядов, классификации, разбиения на кластеры, и т.д.

R является интегрированной средой, предназначенной, в первую очередь, для преобразований данных, проведению над ними математических расчетов, а также для отображения информации в виде графики. Особым образом выделяются следующие возможности:
\begin{itemize}
\item достаточно компактное представление и хранение данных;
\item средства преобразования массивов данных, в частности матриц;
\item большая, систематизированная и интегрируемая библиотека базовых методов анализа данных;
\item богатый набор функций графического отображения данных на экране компьютера и на бумаге.
\end{itemize}
Кроме того, среда содержит простой специализированный язык программирования, называемый ``S'', который включает условные операторы, циклы, рекурсивные функции, определяемые пользователем, а также средства ввода-вывода информации.

R не является программным пакетом для статистического анализа, в своей основе – это среда для программирования статистических расчетов, где реализованы как классические методы анализа, так и некоторые современные. Американские авторы книг по статистистическим исследованиям в 50\% случаев обращаются именно к R как к программной системе для демонстрации излагаемых ими методов, реализуют свои методы в виде пактов к этой системе, тем самым обогащая функциональное наполнение системы новыми модулями. В настоящее время в систему  включено около 25 пактов (классифицируемых как «стандартные» и «рекомендованные») и других пакетов, в большом количестве доступных через глобальную сеть Интернет на сайте http://cran.r-project.org/ и др. серверах.

Существует несколько принципиальных различий между системой R и другими известными статистическими системами. В системе R статистический анализ осуществляется при помощи последовательности шагов, между которыми промежуточные результаты сохраняются в памяти компьютера в виде программных объектов. Коммерческие системы, такие как SAS и SPSS, как правило, выводят на экран компьютера или печатающее устройство большие объемы выходной информации по результатам регрессионного или дискриминантного анализов. Однако, R выдает некоторый минимальный вывод и записывает результаты в виде объекта – результата работы некоторого статистического метода, который, в свою очередь, может быть далее использован другими функциями.

Система R поддерживает возможность непосредственного взаимодействия с операционной системой. Пользователь, программист R, имеет возможность доступа к объектам операционной системы через функции, реализующие системные вызовы к ядру операционной системы.

\section{Интерфейс пользователя R}
В системе R, в отличие от других систем, ипользование графического пользовательского интерфейса не является обязательным. Естественно, что наиболее удобный способ использования R – это персональный компьютер и оконная операционная система. Однако, базовые принципы, заложенные в систему, позволяют достаточно эффективно использовать возможности встроенного интерфейса командной строки: графический интерфейс вторичен.
.
В интерактивном режиме при запуске системы пользователю программы  выводится текстовая консоль с приглашением вида ``>'', которое, в принципе, можно изменить при помощи системных функций. Перед началом работы рекомендуется создавать отдельный рабочий директорий под каждое отдельное исследование. Дальнейшие примеры команд приводятся в предположении, что в качестве операционной системы пользователя выступает Linux.
{\tt\begin{verbatim}
	$ mkdir work 	# создать рабочий директорий, если такового не было
	$ cd work	# войти в него
	$ R			# запустить программу R
	. . . . . . .
	> 	 		# команды среды R
\end{verbatim}}
По окончании сеанса система запрашивает у пользователя разрешение на сохранение данных в рабочей памяти среды, как правило, вопрос задается в интерактивном диалоговом окне. Сохраненные данные восстанавливаются при следующем запуске системы из этого же рабочего директория.
{\tt\begin{verbatim}
	> q() 		# завершение работы
\end{verbatim}}

В операционной системе Windows процедура сипользования R подобна описанной. Необходимо создать рабочую папку и сделать её рабочей папкой для ярлыка программы R. Затем  запустить R двойным шелчком мыши по ярлыку. Можно создать ряд ярлыков для каждого отдельного проекта (папки).

\subsection{Документирование функций}
В среду R встроена система документирования реализованных функций. Вывод на экран справочной информации осуществляется при помощи функции
{\tt\begin{verbatim}
	> help(``название функции или объекта'')
\end{verbatim}}
Кроме того, система снабжена гипертекстовой справочной информацией в формате HTML.
Кроме базовой информации и реализованной функции некоторые модули предоставляют набор примеров своего использования (\texttt{examples(``тема'')}).

\subsection{Базовые команды среды}
Язык управления R (командный язык) является языком определения выражений (expression language) с очень простым синтаксисом. Лексические элементы языка (например, идентификаторы и операторы) различают малые и большие буквы. Приняты обычные (с т.з. языка программирования ``C'') правила формирования имени идентификаторов. Если команда не завершена до конца строки, а R улавливает этот факт, то вместо обычного приглашения выдается  ``+''. Это приглашение будет повторяться до тех пор, пока R не распознает завершение команды.

Всякая команда – это либо выражение, либо присвоение идентификатору некоторого вычисленного объекта (результата выполнения выражения). Если выражение задает команду, то эта команда вычисляется, результат выводится на экран, затем удаляется из памяти компьютера. Команда присваивания также вычисляет выражение, но результат присваивается идентификатору (переменной), при этом  на экран не выводится. Команды разделяются точкой с запятой ``;'' или символом перевода строки. Элементарные команды можно группировать друг с другом при помощи фигурных скобок: ``\{'' и ``\}''. Комментарии можно помещать почти где угодно в тексте программы, они начинаются с символа ``\#'' и завершаются в конце строки.

В большинстве операционных систем, на которых реализованы версии R, поддерживают механизм возврата и перезапуска предыдущих команд. Эта операция связана с клавишами ``вверх'' и ``вниз''. По списку выполненных комманд можно перемещаться в любом направлении, а также в любую команду можно внести исправления. Последовательность команд, записанная в файле, выполняется при помощи команды \texttt{source(``название функции или объекта'')}.

Сущности, которые создает или изменяет R, называются объектами. Выделяются переменные, массивы чисел, строки, функции, а также более общие структуры, формируемые из других объектов. Создаваемые в течении пользовательской интерактивной сессии объекты сохраняются под своими именами. Для отображения списка имеющихся объектов существуют специальные команды, например, \texttt{ls()}. Набор хранимых в памяти машины объектов называется рабочим пространством R. Объекты можно удалять из рабочей памяти (\texttt{rm(x, y, z)}).

Объекты, создаваемые в течение сессии, можно сохранять в постоянном хранилище, например, в файле, а затем загружать в память компьютера, в т.ч. специально при старте системы. Сохранение объектов осуществляется в файл \texttt{.RData}, а списка выполненных команд в --- файл \texttt{.RHistory}. Оба файла находятся в текущем рабочем директории. В силу того, что пользователи склонны создавать в разных проектах переменные с одинаковыми именами, рекомендуется назначать разным рабочим пространствам разные директории жесткого диска для постоянного хранения объектов.

\section{Представление данных в R}
Среда R оперирует именованными структурами данных. Наиболее простая структура – это вектор чисел, который, в свою очередь, является самостоятельной сущностью, состоящей из упорядоченного набора чисел. Для создания векторов чисел используется специальная креативная функция \texttt{c()}. Единичное число, на самом деле, представляет собой вектор чисел длины 0. Над векторами можно осуществлять разнообразные арифметические операции, в т.ч. покомпонентные и матричные, поиски минимальных, средних и максимальных значений.
{\tt\begin{verbatim}
	> x <- c(10.4, 5.6, 3.1, 6.4, 21.7)	# создать вектор x
\end{verbatim}}
В этом примере создается вектор \texttt{x}, состоящий из 5 чисел. Необходимо отметить, что оператор присвоения состоит из двух, идущих строго друг за другом, без пробелов и символов табуляции, символов \texttt{<} и \texttt{-}. Операторами присваивания также являются последовательность \texttt{->} и \texttt{=}.
{\tt\begin{verbatim}
	> c(10.4, 5.6, 3.1, 6.4, 21.7) -> x	# ... в обратную сторону
\end{verbatim}}
Теперь можно вычислить вектор, обратный \texttt{x} (результат выполнения команды будет утерян):
{\tt\begin{verbatim}
	> 1/x
\end{verbatim}}
Следующая команда создает вектор \texttt{y}, состоящий из 11 элементов (две копии вектора \texttt{x} и \texttt{0} между ними):
{\tt\begin{verbatim}
	> y = c(x, 0, x)
\end{verbatim}}

\subsection{Векторная арифметика}
Из векторов можно строить арифметические выражения, которые будут выполняться поэлементно. При этом, векторы не обязательно должны быть равной длины; в этом случае длина результирующего вектора будет равняться максимальной длине одного из всех векторов-аргументов. Векторы длины меньшей, чем максимальная будут повторяться столько раз, сколько нужно, в т.ч. неполное количество раз. В частности, константа будет повторяться по одному разу для каждого элемента другого вектора. В нашем примере
{\tt\begin{verbatim}
	> v <- 2*x + y + 1
\end{verbatim}}
породится вектор \texttt{v}, содержащий 11 элементов: \texttt{x} повторится 2.2 раза, \texttt{y} только один раз, \texttt{1} --- 11 раз.

Операции \texttt{+, -, *, /} и \texttt{\^} (возведение в степень) являются обычными арифметическими операциями и имеют свой обычный смысл. В дополнение к ним есть практически все известные элементарные функции \texttt{log, exp, sin, cos, tan, sqrt} и т.п. Функции \texttt{max} и \texttt{min} выбирают  максимальное и минимальное значение вектора, соответственно. Результатом выполнения функции \texttt{range(x)} является вектор \texttt{c(min(x), max(x))}, а функции \texttt{length(x)} --- колическтво элементов, составляющих ветор \texttt{x}. Функции \texttt{sum, prod} и \texttt{mean} выдают, соответственно, сумму, произведение и среденее значение (математическое ожидание) элементов вектора. Функция \texttt{var(x))} задана как
{\tt\begin{verbatim}
	sum((x-mean(x))^2)/(length(x)-1)
\end{verbatim}}

Для того, чтобы указывать функции \texttt{sqrt} выполнить операцию извлечения корня вектора комплексных чисел, необходимо добавить комплексную часть:
{\tt\begin{verbatim}
	sqrt(-17+0j)
\end{verbatim}}
В другом случае получится \texttt{NaN} (``не число'', см. далее).

Векторы и матрицы могут быть сгенерированы как последовательности чисел или на основе заданного случайного распределения. Среда R имеет средства для вырезания из вектора его части и изменения порядка следования элементов.
Элементами вектора могут быть числа, строки, логические, а также специальные значения, обозначающие высказывания ``не число'', ``не доступно'', что выгодно отличает эту систему от некоторых коммерческих аналогов. Представление этих значений позволяет обрабатывать неполные, неточные и противоречивые наборы данных. Для обозначения этих двух разновидностей значений используются специальные глобальные константы \texttt{NaN} и \texttt{NA}, соответственно. Кроме этих констант задается также константа обозначающая значение бесконечности \texttt{Inf}.

Другими распространенными объектами R являются матрицы (многомерные массивы), факторы, списки, фреймы данных и функции.
\begin{enumerate}
\item Факторы позволяют компактно представлять данные, которые характеризуются попарно различимыми категориями.
\item Списки являются обобщенными формами векторов, в которых типы элементо не обязаны совпадать, и, как правило, сами являются списками или векторами. Списки обеспечивают удобный способ представления получаемых результатов статистического анализа.
\item Фреймы данны – это объекты, сходные с матрицами, но колонки в которых могут различаться по типу данных. Фактически списки содержат информацию о некотором объекте (строки), представленную набором атрибутов (столбцы).
\item Функции, являясь объектами R, могут содержаться в рабочем пространстве. Они обеспечивают простой и удобный способ расширения R новыми вычислительными процедурами.
\end{enumerate}

\section{Доступ к данным в файлах}
В R существует класс типов данных, называемых \emph{фреймами}, специально предназначенных для хранения исходных данных. Фреймы данных представляют исходную информацию для статистического анализа в виде совокупности поименованных векторов данных. Фреймовые структуры загружаются из файлов различных форматов: ASCII и CSV, тем самым обеспечивая необходимый уровень интеграции с популярными программными продуктами. Разработчики системы R не встраивали средства редактирования содержимого фреймов в систему, разумно предполагая, что данные можно редактировать гораздо удобнее известными специализированными средствами (например, Microsoft Excel) или генерировать как результат выполнения других программных модулей.

\chapter*{Приложение II. Программа расчета траектрии ИСЗ.}
\addcontentsline{toc}{chapter}{Приложение II}

\label{pg:lastpage}

\newpage
\thispagestyle{empty}
\hbox{}
\vfill
\begin{center}
Печатается в авторской редакции\\[1em]
\end{center}
\begin{quote}
\noindent Подписано в печать \hbox to 2cm{}.
Формат~60$\times$84 1/16. Гарнитура Computer Modern.
Верстка \LaTeX~2$\varepsilon$.
Бумага офсетная. Печать офсетная. Усл.печ.л.~\hbox to 7mm{}
Уч.--изд.л.~\hbox to 5mm{}. Тираж~100~экз. Зак.~420.
Поз. плана~117.
\end{quote}
\begin{center}
ИД~N~06506~от~26.12.2001.\\
{\bf Иркутский государственный технический университет}\\
664074, Иркутск, ул.~Лермонтова, д.~83.
\end{center}
\end{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
